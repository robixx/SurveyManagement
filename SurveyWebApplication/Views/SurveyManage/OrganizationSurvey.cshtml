@model List<SurveyWebApplication.Models.Organization>

@{
    ViewBag.Title = "OrganizationSurvey";
    int k = 1;
}


<style>
    a {
        text-decoration: none;
        font-family: Constantia;
    }

    .padtop {
        padding-top: 1.8rem !important;
    }
</style>
<div class=" shadow-lg p-3 rounded bg-light">
    <h2 class="text-center">Survey List</h2><hr />
    <div class="row">
        <form id="www" method="post">

            <div class="row">
                <div class="col-md-1">
                    <label class="textbox-label">From Date</label>
                </div>
                <div class="col-md-3">
                    <input class="easyui-datetimebox" id="fromDate"
                           data-options="required:true,showSeconds:false" value="3/4/2010 " style="width: 250px; height: 35px;">
                </div>
                <div class="col-md-1">
                    <label class="textbox-label">To Date</label>
                </div>
                <div class="col-md-3">
                    <input class="easyui-datetimebox" id="toDate"
                           data-options="required:true,showSeconds:false" value="3/4/2010 " style="width: 250px; height: 35px;">
                </div>
                <div class="col-md-1">
                    <button type="submit" class="easyui-linkbutton c1" id="btnfilter" style="width:80px">Filter</button>
                </div>
            </div>

        </form>
    </div>


   
        @if (ViewBag.Datad.Count>0)
            {
            <div class="row mt-5" style="font-size:28px; ">
                @foreach (var item in ViewBag.Datad)
                {
                    <div class="col-md-1"></div>
                    <div class="col-md-11 mt-1">
                        <a href="@Url.Action("Test", "SurveyManage", new { OrgId = @item.OrgId })" id="datafilter" class="pl-2">@k. @item.Name </a>
                    </div>
                    k++;
                }
            </div>
            }
        else
        {
             <div class="row mt-5" style="font-size:28px; ">
              
                   
                    <div class="col-md-12 mt-1 text-center">
                        <p class="bg-light">No data available.</p>
                    </div>
                 
            </div>
           
        }

</div>




<script>
    debugger;
    const date = new Date();
    let currentDay = String(date.getDate()).padStart(2, '0');
    let currentMonth = String(date.getMonth() + 1).padStart(2, "0");
    let currentYear = date.getFullYear();

    $('#fromDate').datetimebox({
        value: '${currentDay}-${currentMonth}-${currentYear}',
        format: 'dd-MMM-yyyy',
        required: true,
        showSeconds: false
    });


    $('#toDate').datetimebox({
        value: '${today.getDate()}/{today.getMonth()}/${today.getFullYear()}',
        format: 'dd-MMM-yyyy',
        required: true,
        showSeconds: false
    });


   

    $('#btnfilter').click(function (e) {
        e.preventDefault();
        debugger;
        var fromDate = $('#fromDate').val();
        var toDate = $('#toDate').val();
        
        window.location.href = '@Url.Action("OrganizationSurvey", "SurveyManage")?fromDate=' + fromDate + '&toDate=' + toDate;

        //if (name == null) {

        //}
        //$.ajax({
        //    type: "post",
        //    url: "FilterSurvey/SurveyManage",
        //    data: { fromDate: fromDate, toDate: toDate },
        //    dataType: 'json',
        //    success: function (response) {
              

                

        //    },
        //    error: function () {
        //        //error code here
               
        //    }
        //});

    });



</script>